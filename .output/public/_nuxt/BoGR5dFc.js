import{u as U}from"./D_IXuwaq.js";import{d as N,ay as J,f as Y,V as L,$ as G,Y as Q,Z as X,u as x,c as tt,W as et,S as rt}from"./Dg7Bj1Dn.js";import"./rmVoKyAr.js";import"./L75Ugayu.js";const nt={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare"},st={"imgix.net":"imgix","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare"},ot={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_next/static":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify"},v=r=>{if(!r)return r;const t=Number(r);return isNaN(t)?r:Math.round(t)},u=(r,t,e,s,n)=>{e?(n&&(e=v(e)),r.searchParams.set(t,e.toString())):s&&r.searchParams.delete(t)},p=(r,t,e)=>{r.searchParams.has(t)||r.searchParams.set(t,e.toString())},w=(r,t)=>{const e=Number(r.searchParams.get(t));return isNaN(e)?void 0:e},z=r=>{const{pathname:t,search:e}=r;return`${t}${e}`},_=r=>r.hostname==="n"?z(r):r.toString(),d=(r,t)=>typeof r=="string"?new URL(r,t??"http://n/"):r,j=new Map(Object.entries(nt)),it=Object.entries(st);function at(r){return B(r)||ct(r)}function B(r){if(typeof r=="string"&&!r.startsWith("https://"))return!1;const{hostname:t}=d(r);if(j.has(t))return j.get(t);for(const[e,s]of it)if(t.endsWith(`.${e}`))return s;return!1}function ct(r){const{pathname:t}=d(r);for(const[e,s]of Object.entries(ot))if(t.startsWith(e))return s;return!1}const ut=({url:r,width:t,height:e,format:s})=>{const n=d(r);return t&&t>4e3&&(e&&(e=Math.round(e*4e3/t)),t=4e3),e&&e>4e3&&(t&&(t=Math.round(t*4e3/e)),e=4e3),u(n,"w",t,!0,!0),u(n,"h",e,!0,!0),u(n,"fm",s),p(n,"fit","fill"),n},lt=({url:r,width:t,height:e,format:s})=>{const n=d(r);return u(n,"width",t,!0,!0),u(n,"height",e,!0,!0),u(n,"format",s),t&&e&&(p(n,"fit","cover"),p(n,"sharp","true")),n},ft=({url:r,width:t,height:e,format:s})=>{var o;const n=d(r);if(u(n,"w",t,!0,!0),u(n,"h",e,!0,!0),p(n,"fit","min"),s){n.searchParams.set("fm",s);const i=n.searchParams.get("auto");i==="format"?n.searchParams.delete("auto"):i!=null&&i.includes("format")&&n.searchParams.set("auto",i.split(",").filter(a=>a!=="format").join(","))}else n.searchParams.delete("fm"),(o=n.searchParams.get("auto"))!=null&&o.includes("format")||n.searchParams.append("auto","format");return n},mt=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,dt=r=>{const t=d(r),e=t.pathname.match(mt);if(!e)throw new Error("Invalid Shopify URL");const[,s,n,o,i,a,f,m]=e;t.pathname=`${s}${f}`;const c=o||t.searchParams.get("width"),l=i||t.searchParams.get("height");return t.searchParams.delete("width"),t.searchParams.delete("height"),{base:t.toString(),width:Number(c)||void 0,height:Number(l)||void 0,format:m?m.slice(1):void 0,params:{crop:a,size:n},cdn:"shopify"}},ht=({base:r,width:t,height:e,format:s,params:n})=>{const o=d(r);return u(o,"width",t,!0,!0),u(o,"height",e,!0,!0),u(o,"crop",n==null?void 0:n.crop),u(o,"format",s),o},pt=({url:r,width:t,height:e})=>{const s=dt(r);if(!s)return;const n={...s,width:t,height:e};return ht(n)},gt=({url:r,width:t,height:e})=>{const s=d(r);return u(s,"w",t,!0,!0),u(s,"h",e,!0,!0),p(s,"crop","1"),s},yt=({url:r,width:t,height:e})=>{const s=d(r);return u(s,"w",t,!0,!0),u(s,"h",e,!0,!0),u(s,"q",w(s,"q"),!0),s},$t=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<idAndFormat>[^\s]+)$/g,bt=r=>r?Object.fromEntries(r.split(",").map(t=>t.split("_"))):{},F=({host:r,cloudName:t,assetType:e,deliveryType:s,signature:n,transformations:o={},version:i,id:a,format:f})=>{f&&(o.f=f);const m=Object.entries(o).map(([l,h])=>`${l}_${h}`).join(",");return`https://${[r,t,e,s,n,m,i,a].filter(Boolean).join("/")}`},q=r=>{const e=[...d(r).toString().matchAll($t)];if(!e.length)throw new Error("Invalid Cloudinary URL");const s=e[0].groups||{},{transformations:n="",idAndFormat:o,...i}=s;delete s.idAndFormat;const a=o.lastIndexOf("."),f=a<0?o:o.slice(0,a),m=a<0?void 0:o.slice(a+1),{w:c,h:l,f:h,...g}=bt(n),y=h&&h!=="auto"?h:m;return{base:F({...i,id:f,transformations:g}),width:Number(c)||void 0,height:Number(l)||void 0,format:y,cdn:"cloudinary",params:{...s,id:s.deliveryType==="fetch"?o:f,format:y,transformations:g}}},wt=({base:r,width:t,height:e,format:s,params:n})=>{var a;const o=q(r.toString()),i={transformations:{},...o.params,...n,format:s||"auto"};return t&&(i.transformations.w=v(t).toString()),e&&(i.transformations.h=v(e).toString()),(a=i.transformations).c||(a.c="lfill"),F(i)},xt=({url:r,width:t,height:e,format:s="auto"})=>{var i,a;const n=q(r);if(!n)throw new Error("Invalid Cloudinary URL");if(((i=n.params)==null?void 0:i.assetType)!=="image")throw new Error("Cloudinary transformer only supports images");if((a=n.params)!=null&&a.signature)throw new Error("Cloudinary transformer does not support signed URLs");const o={...n,width:t,height:e,format:s};return wt(o)},vt=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/image\/(?<transformations>[^\/]+)?\/(?<path>.*)$/g,St=r=>Object.fromEntries(r.split(",").map(t=>t.split("="))),C=({host:r,transformations:t={},path:e})=>{const s=Object.entries(t).map(([o,i])=>`${o}=${i}`).join(",");return`https://${[r,"cdn-cgi","image",s,e].join("/")}`},T=r=>{const t=d(r),e=[...t.toString().matchAll(vt)];if(!e.length)throw new Error("Invalid Cloudflare URL");const s=e[0].groups||{},{transformations:n,...o}=s,{width:i,height:a,f,...m}=St(n);return C({...o,transformations:m}),{base:t.toString(),width:Number(i)||void 0,height:Number(a)||void 0,format:f,cdn:"cloudflare",params:{...s,transformations:m}}},_t=({base:r,width:t,height:e,format:s,params:n})=>{var a;const o=T(r.toString()),i={transformations:{},...o.params,...n};return t&&(i.transformations.width=t==null?void 0:t.toString()),e&&(i.transformations.height=e==null?void 0:e.toString()),s&&(i.transformations.f=s==="jpg"?"jpeg":s),(a=i.transformations).fit||(a.fit="cover"),new URL(C(i))},Pt=({url:r,width:t,height:e,format:s="auto"})=>{const n=T(r);if(!n)throw new Error("Invalid Cloudflare URL");const o={...n,width:t,height:e,format:s};return _t(o)},Ut=({url:r,width:t,height:e})=>{const s=d(r);return u(s,"width",t,!0,!0),t&&e&&p(s,"aspect_ratio",`${t}:${e}`),s},jt=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/g,It=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/g,Ot=r=>r?Object.fromEntries(r.split(":").map(t=>{if(!t)return[];const[e,s]=t.split("(");return[e,s.replace(")","")]})):{},kt=r=>{if(!r)return;const t=Object.entries(r).map(([e,s])=>`${e}(${s??""})`);if(t.length!==0)return`filters:${t.join(":")}`},Et=r=>{const t=d(r),e=t.hostname==="img2.storyblok.com"?It:jt,[s]=t.pathname.matchAll(e);if(!s||!s.groups)throw new Error("Invalid Storyblok URL");const{id:n,crop:o,width:i,height:a,filters:f,flipx:m,flipy:c}=s.groups,{format:l,...h}=Ot(f);return t.hostname==="img2.storyblok.com"&&(t.hostname="a.storyblok.com"),{base:t.origin+n,width:Number(i)||void 0,height:Number(a)||void 0,format:l,params:{crop:o,filters:h,flipx:m,flipy:c},cdn:"storyblok"}},Rt=({base:r,width:t=0,height:e=0,format:s,params:n={}})=>{const{crop:o,filters:i,flipx:a="",flipy:f=""}=n,m=`${a}${t}x${f}${e}`;return new URL([r,"m",o,m,kt(i),s].filter(Boolean).join("/"))},Wt=({url:r,width:t,height:e,format:s})=>{const n=Et(r);if(n)return s&&(n.params||(n.params={filters:{}}),n.params.filters||(n.params.filters={}),n.params.filters.format=s),Rt({...n,width:t,height:e})},Nt=({url:r,width:t,height:e,format:s})=>{const n=d(r);return u(n,"w",t,!0,!0),u(n,"h",e,!0,!0),u(n,"fm",s,!0),t&&e&&p(n,"fit","crop"),n},I=r=>{const e=d(r).searchParams.get("url");if(!e||!e.startsWith("http"))return!1;const s=B(e);return s?{cdn:s,url:e}:!1},Lt=({base:r,width:t,params:{quality:e=75,root:s="_vercel"}={}})=>{const n=new URL("http://n");return n.pathname=`/${s}/image`,n.searchParams.set("url",r.toString()),u(n,"w",t,!1,!0),p(n,"q",e),z(n)},A=({url:r,width:t,cdn:e})=>{const s=d(r),n=s.pathname.startsWith("/_next/image")||s.pathname.startsWith("/_vercel/image"),o=n?s.searchParams.get("url"):r.toString();if(o)return u(s,"w",t,!0,!0),n?_(s):Lt({base:o,width:t,params:{root:e==="nextjs"?"_next":"_vercel"}})},zt=r=>A({...r,cdn:"nextjs"}),Bt=({url:r,width:t,height:e,format:s})=>{const n=d(r);return u(n,"wid",t,!0,!0),u(n,"hei",e,!0,!0),u(n,"fmt",s,!0),u(n,"qlt",w(n,"qlt"),!0),u(n,"scl",w(n,"scl"),!0),p(n,"fit","crop"),!t&&!e&&p(n,"scl",1),n},Ft=({url:r,width:t,height:e,format:s})=>{const n=d(r);return u(n,"width",t,!0,!0),u(n,"height",e,!0,!0),u(n,"format",s,!0),u(n,"quality",w(n,"quality"),!0),p(n,"enlarge",0),n},qt=({url:r,width:t,height:e,format:s})=>{const n=d(r);return u(n,"width",t,!0,!0),u(n,"height",e,!0,!0),u(n,"format",s),u(n,"quality",w(n,"quality"),!0),n},S={width:"w",height:"h",autoWidthWithFallback:"w_auto",auto_width_fallback:"w_auto",scaleToScreenWidth:"pc",scale_to_screen_width:"pc",crop:"cr",outputFormat:"f",format:"f",fit:"m",fitMethod:"m",compression:"cmpr",sharpness:"s",rotate:"r",inline:"in",keepMeta:"meta",keep_meta:"meta",noOptimization:"pass",no_optimization:"pass",force_download:"dl",max_device_pixel_ratio:"maxdpr",maxDevicePixelRatio:"maxdpr"};function Ct(r){return Object.keys(S).find(s=>S[s]===r)||""}function Tt(r){let t=r.toString(),e=[];if(t){let s=t.split("imgeng=");s.length>1&&(e=s[1].split("/"))}return e}function At(r){let t=r.toString(),e="";if(t){let s=t.split("imgeng=");s.length>1?e=s[0].slice(0,-1):e=t}return e}const Mt=({url:r,width:t,height:e,format:s})=>{const n=d(r),o=At(n);let i={};const a=n.toString()===o?[]:Tt(n);a.length&&(i=Zt(a)),t&&(i.width=t),e&&(i.height=e),s&&(i.format=s),i.hasOwnProperty("fit")||(i={...i,fit:"cropbox"});let f=Dt(i),m=Ht(f),c=m===""?"":o.includes("?")?"&":"?";return`${o}${c}${m}`};function Dt(r){return Object.entries(r).reduce((t,[e,s])=>t+Vt(e,s),"")}function Ht(r){return r&&r!==""?`imgeng=${r}`:""}function Vt(r,t){let e=S[r];return e&&(t||t===0)?`/${e}_${t}`:""}function Zt(r){let t={};return r.forEach(e=>{let s=e.split("_");if(s.length>1){let n=s[0],o=s[1],i=Ct(n);i&&(t[i]=o)}}),t}const Kt=({url:r,width:t,height:e,format:s})=>{const n=d(r);return u(n,"width",t,!0,!0),u(n,"height",e,!0,!0),u(n,"format",s),n.searchParams.has("format")||p(n,"auto","webp"),t&&e&&p(n,"fit","crop"),n},Jt=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,Yt=r=>{var t;return Object.fromEntries(((t=r==null?void 0:r.split(","))==null?void 0:t.map(e=>e.split("=")))??[])},Gt=({host:r,accountHash:t,transformations:e={},imageId:s})=>{const n=Object.entries(e).map(([i,a])=>`${i}=${a}`).join(",");return`https://${[r,"cdn-cgi","imagedelivery",t,s,n].join("/")}`},M=r=>{const t=d(r),e=[...t.toString().matchAll(Jt)];if(!e.length)throw new Error("Invalid Cloudflare Images URL");const s=e[0].groups||{},{transformations:n,...o}=s,{w:i,h:a,f,...m}=Yt(n);return{base:t.toString(),width:Number(i)||void 0,height:Number(a)||void 0,format:f,cdn:"cloudflare_images",params:{...o,transformations:m}}},Qt=({base:r,width:t,height:e,format:s,params:n})=>{var a;const o=M(r.toString()),i={transformations:{},...o.params,...n};return t&&(i.transformations.w=t==null?void 0:t.toString()),e&&(i.transformations.h=e==null?void 0:e.toString()),s&&(i.transformations.f=s),(a=i.transformations).fit||(a.fit="cover"),new URL(Gt(i))},Xt=({url:r,width:t,height:e,format:s="auto"})=>{const n=M(r);if(!n)throw new Error("Invalid Cloudflare Images URL");const o={...n,width:t,height:e,format:s};return Qt(o)},te=r=>{const t=d(r),[e,...s]=t.pathname.split("/").slice(1),n=Object.fromEntries(e.split(",").map(o=>{const[i,a]=o.split("_");return[i,a]}));if(n.s){const[o,i]=n.s.split("x");n.w||(n.w=o),n.h||(n.h=i)}return{base:s.join("/"),width:Number(n.w)||void 0,height:Number(n.h)||void 0,quality:Number(n.q)||void 0,format:n.f||"auto",params:n,cdn:"ipx"}},O=({base:r,width:t,height:e,format:s,params:n})=>{const o=(n==null?void 0:n.modifiers)??{};t&&e?o.s=`${t}x${e}`:t?o.w=`${t}`:e&&(o.h=`${e}`),s&&(o.f=s);const i=n!=null&&n.base.endsWith("/")?n==null?void 0:n.base:`${n==null?void 0:n.base}/`,a=Object.entries(o).map(([c,l])=>`${c}_${l}`).join(","),f=r.toString(),m=f.startsWith("/")?f.slice(1):f;return`${i}${a}/${m}`},ee=r=>{var i,a,f,m;const t=String(r.url),e=d(t),s=e.pathname.startsWith("/_ipx")&&e.hostname!=="n"?`${e.origin}/_ipx`:"/_ipx",n=((a=(i=r.cdnOptions)==null?void 0:i.ipx)==null?void 0:a.base)??s;if(n&&n!=="/"&&t.startsWith(n)){const c=te(t.replace(n,""));return O({...c,...r,params:{...(f=r.cdnOptions)==null?void 0:f.ipx,base:n}})}return O({...r,base:t,params:{...(m=r.cdnOptions)==null?void 0:m.ipx,base:n}})},re=({url:r,width:t,height:e,format:s})=>{const n=d(r),o=_(new URL(n.pathname,n.origin)),i={searchParams:new URLSearchParams};return u(i,"href",o,!0,!0),u(i,"w",t,!0,!0),u(i,"h",e,!0,!0),u(i,"f",s),`/_image?${i.searchParams.toString()}`},ne=new Set(["w","h","q","fm","url","width","height","quality"]),se=r=>{const t=d(r),e=Number(t.searchParams.get("w")??t.searchParams.get("width"))??void 0,s=Number(t.searchParams.get("h")??t.searchParams.get("height"))??void 0,n=Number(t.searchParams.get("q")??t.searchParams.get("quality"))||void 0,o=t.searchParams.get("fm")||void 0,i=t.searchParams.get("url")||"",a={quality:n};return t.searchParams.forEach((f,m)=>{ne.has(m)||(a[m]=f)}),t.search="",{base:i,width:e,height:s,format:o,params:a,cdn:"netlify"}},k=({base:r,width:t,height:e,format:s,params:{site:n,quality:o,...i}={}})=>{const a=d("/.netlify/images",n);return Object.entries(i).forEach(([f,m])=>u(a,f,m)),u(a,"q",o,!0,!0),u(a,"w",t,!0,!0),u(a,"h",e,!0,!0),u(a,"fm",s),p(a,"fit","cover"),a.searchParams.set("url",r.toString()),_(a)},oe=r=>{var e,s;const t=d(r.url);if(t.pathname.startsWith("/.netlify/images")){const{params:n,base:o,format:i}=se(t);return k({base:o,format:i,...r,params:{...n,site:t.hostname==="n"?void 0:t.origin}})}return k({...r,base:r.url,params:{site:(s=(e=r.cdnOptions)==null?void 0:e.netlify)==null?void 0:s.site}})},ie=r=>(r.searchParams.get("tr")||"").split(",").reduce((e,s)=>{const[n,o]=s.split("-");return e[n]=o,e},{}),ae=({url:r,width:t,height:e,format:s})=>{const n=d(r),o=ie(n);o.w=t&&Math.round(t),o.h=e&&Math.round(e),o.f||(o.f="auto"),s&&(o.f=s);const i=Object.keys(o).map(a=>{const f=o[a];if(f)return`${a}-${f}`}).filter(a=>a).join(",");return n.searchParams.set("tr",i),n},ce=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)/g;function D(r){const t=new URL(r),e=t.pathname+t.search+t.hash,s=e.lastIndexOf("http"),n=e.lastIndexOf("/");let o="";return s>=0?o=e.slice(s):n>=0&&(o=e.slice(n+1)),o}function ue(r){return r.startsWith("http")}function le(r){const t=new URL(r);return{pathname:t.origin+t.pathname||"",search:t.search||"",hash:t.hash||""}}function fe(r){const t=new URL(r),e=D(r),s=ue(e)?le(e).pathname:e;return t.pathname=t.pathname.replace(s,""),t.search="",t.hash="",t.toString()}const me=r=>{if(typeof r!="string"||!r)return"";let t=r.trim();return t.startsWith("-/")?t=t.slice(2):t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,t.length-1)),t};function de(r){const t=fe(r),e=new URL(t),s=e.pathname.indexOf("/-/");return s===-1?[]:e.pathname.substring(s).split("/-/").filter(Boolean).map(o=>me(o))}const he=r=>r.length?r.reduce((t,e)=>{const[s,n]=e.split("/");return{...t,[s]:n}},{}):{},H=({host:r,uuid:t,operations:e={},filename:s})=>{const n=Object.entries(e).map(([i,a])=>`${i}/${a}`).join("/-/");return`https://${[r,t,n?`-/${n}`:"",s].join("/")}`},V=r=>{const t=d(r),e=[...t.toString().matchAll(ce)];if(!e.length)throw new Error("Invalid Uploadcare URL");const s=e[0].groups||{},{...n}=s,o=D(t.toString()),{format:i,...a}=he(de(t.toString())),f=i&&i!=="auto"?i:"auto";return{base:H({...n,filename:o||void 0,operations:{...a,format:f}}),cdn:"uploadcare",params:{...s,filename:o||void 0,operations:{...a,format:f}}}},pe=({base:r,width:t,height:e,params:s})=>{const n=r.toString(),o=V(n.endsWith("/")?n:`${n}/`),i={operations:{},...o.params,...s};return t&&e?i.operations={...i.operations,resize:`${t}x${e}`}:(t&&(i.operations={...i.operations,resize:`${t}x`}),e&&(i.operations={...i.operations,resize:`x${e}`})),H(i)},ge=({url:r,width:t,height:e})=>{const s=V(r);if(!s)throw new Error("Invalid Uploadcare URL");const n={...s,width:t,height:e};return pe(n)},E={vercel:I,nextjs:I};function ye(r,t){if(!(t in E))return!1;const e=E[t];return e?e(r):!1}function Z(r,t){const e=at(r)||t;if(!e)return!1;const s=ye(r,e);return s||{cdn:e,url:r}}const K=r=>({imgix:ft,contentful:ut,"builder.io":lt,shopify:pt,wordpress:gt,cloudimage:yt,cloudinary:xt,bunny:Ut,storyblok:Wt,cloudflare:Pt,vercel:A,nextjs:zt,scene7:Bt,"kontent.ai":Nt,keycdn:Ft,directus:qt,imageengine:Mt,contentstack:Kt,cloudflare_images:Xt,ipx:ee,astro:re,netlify:oe,imagekit:ae,uploadcare:ge})[r];var $e=(r,t)=>{if(!(!r||!t))switch(t){case"constrained":return`(min-width: ${r}px) ${r}px, 100vw`;case"fixed":return`${r}px`;case"fullWidth":return"100vw";default:return}},b=r=>r||r===0?`${r}px`:void 0,be=({width:r,height:t,aspectRatio:e,layout:s,objectFit:n="cover",background:o})=>{const i=[["object-fit",n]];return o!=null&&o.startsWith("https:")||o!=null&&o.startsWith("http:")||o!=null&&o.startsWith("data:")?(i.push(["background-image",`url(${o})`]),i.push(["background-size","cover"]),i.push(["background-repeat","no-repeat"])):i.push(["background",o]),s==="fixed"&&(i.push(["width",b(r)]),i.push(["height",b(t)])),s==="constrained"&&(i.push(["max-width",b(r)]),i.push(["max-height",b(t)]),i.push(["aspect-ratio",e?`${e}`:void 0]),i.push(["width","100%"])),s==="fullWidth"&&(i.push(["width","100%"]),i.push(["aspect-ratio",e?`${e}`:void 0]),i.push(["height",b(t)])),Object.fromEntries(i.filter(([,a])=>a))},R=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],W=24,we=({width:r,layout:t})=>{if(t==="fullWidth")return R;if(!r)return[];const e=r*2;return t==="fixed"?[r,e]:t==="constrained"?[r,e,...R.filter(s=>s<e)]:[]},xe=({src:r,width:t,layout:e="constrained",height:s,aspectRatio:n,breakpoints:o,cdn:i,transformer:a})=>{const f=Z(r,i);if(f&&(a||(a=K(f.cdn)),!!a))return o||(o=we({width:t,layout:e})),o.sort((m,c)=>m-c).map(m=>{let c;s&&n&&(c=Math.round(m/n));const l=a({url:f.url,width:m,height:c});return l?`${l.toString()} ${m}w`:""}).join(`,
`)};function ve({src:r,width:t,height:e,priority:s,layout:n="constrained",aspectRatio:o,cdn:i,transformer:a,objectFit:f="cover",background:m,breakpoints:c,...l}){const h=Z(r,i);let g=r;if(h&&(g=h.url,a||(a=K(h.cdn))),t=t&&Number(t)||void 0,e=e&&Number(e)||void 0,s?(l.loading||(l.loading="eager"),l.fetchpriority||(l.fetchpriority="high")):(l.loading||(l.loading="lazy"),l.decoding||(l.decoding="async")),l.alt===""&&(l.role||(l.role="presentation")),o?t?e?console.error("Ignoring aspectRatio because width and height are both set"):e=t/o:e?t=e*o:n!=="fullWidth"&&console.error("When aspectRatio is set, either width or height must also be set"):t&&e?o=t/e:n!=="fullWidth"&&console.error("Either aspectRatio or both width and height must be set"),a&&m==="auto"){const $=o?Math.round(W*o):void 0,P=a({url:g,width:W,height:$});P&&(m=P.toString())}const y={width:t,height:e,aspectRatio:o,layout:n,objectFit:f,background:m};if(a){l.sizes||(l.sizes=$e(t,n)),l.style={...be(y),...l.style},l.srcset=xe({src:g,width:t,height:e,aspectRatio:o,layout:n,breakpoints:c,transformer:a,cdn:i});const $=a({url:g,width:t,height:e});$&&(g=$),(n==="fullWidth"||n==="constrained")&&(t=void 0,e=void 0)}return{...l,src:g.toString(),width:t,height:e}}const Se=N({__name:"image",props:{src:null,width:null,height:null,layout:null,cdn:null,priority:{type:Boolean},background:null,aspectRatio:null,objectFit:null},setup(r){const t=r,e=J(),s=Y(()=>ve({...e,...t}));return(n,o)=>(L(),G("img",Q(X(x(s))),null,16))}}),Ie=N({__name:"CldImage",props:{loading:{},fetchPriority:{},alt:{},width:{},height:{},config:{},layout:{},priority:{type:Boolean},background:{},blur:{},pixelate:{type:Boolean},grayscale:{type:Boolean},tint:{},opacity:{},shear:{},border:{},loaderOptions:{},zoompan:{type:[String,Boolean,Object]},fillBackground:{type:[Boolean,Object]},recolor:{},remove:{},replace:{},restore:{type:Boolean},assetType:{},crop:{},deliveryType:{},effects:{},flags:{},format:{},gravity:{},overlays:{},quality:{},rawTransformations:{},removeBackground:{type:Boolean},sanitize:{type:Boolean},resize:{},seoSuffix:{},src:{},text:{},transformations:{},underlay:{},underlays:{},version:{},widthResize:{},zoom:{}},setup(r){const t=r,{config:e,loaderOptions:s,...n}=t,{url:o}=U({options:n,config:e}),i=()=>{const c={...t};c.width=typeof c.width=="string"?parseInt(c.width):c.width,c.height=typeof c.height=="string"?parseInt(c.height):c.height;let l;typeof(s==null?void 0:s.width)=="number"&&typeof c.width=="number"&&s.width!==c.width?l=s.width:typeof(s==null?void 0:s.width)=="number"&&typeof(c==null?void 0:c.width)!="number"&&(l=s.width,c.width=l),c.width&&l&&l<c.width&&(c.widthResize=s==null?void 0:s.width);const{url:h}=U({options:c,config:e});return h},a=tt("image-key"),f=async c=>{await m(c)&&(a.value=`${a.value}-${Math.random()}`)},m=async c=>{const{src:l}=c.target;try{await new Promise((h,g)=>{fetch(l).then(y=>{if(!y.ok){g(y);return}h(y)})})}catch(h){return h.status===423?await m(c):!1}return!0};return(c,l)=>(L(),et(x(Se),rt({key:a.value,src:x(o),layout:c.layout||"constrained",width:c.width,height:c.height},c.$attrs,{priority:c.priority,cdn:"cloudinary",transformer:i,onError:f}),null,16,["src","layout","width","height","priority"]))}});export{Ie as default};
