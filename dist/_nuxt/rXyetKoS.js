import{d as S}from"./rmVoKyAr.js";import{u as T}from"./A-HS0ZFN.js";import{p as W}from"./L75Ugayu.js";import{d as G,c as i,V as J,$ as K,a4 as Q,u as a,ae as X,as as Y}from"./Dg7Bj1Dn.js";const Z=["id","width","height"],le=G({__name:"CldVideoPlayer",props:{colors:{},controls:{type:Boolean,default:!0},fontFace:{},loop:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},transformation:{},hideContextMenu:{type:Boolean},autoPlay:{default:"never"},className:{},height:{},id:{},logo:{type:[Boolean,Object],default:!0},onDataLoad:{},onError:{},onMetadataLoad:{},onPause:{},onPlay:{},onEnded:{},playerRef:{},src:{},version:{default:"1.9.4"},videoRef:{},quality:{default:"auto"},width:{}},setup($,{expose:P}){const d=$,b=i(Math.ceil(Math.random()*1e5)),{autoPlay:C,className:f,colors:p,controls:M,fontFace:k,height:y,id:B,logo:t,loop:E,muted:L,onDataLoad:O,onError:j,onMetadataLoad:x,onPause:I,onPlay:N,onEnded:U,src:m,transformation:s,version:h,quality:V,width:v,hideContextMenu:F}=d,g=Array.isArray(s)?s:[s];let l=m;if(l.startsWith("http"))try{const e=W(m);typeof(e==null?void 0:e.publicId)=="string"&&(l=e==null?void 0:e.publicId)}catch(e){console.error(e)}g.unshift({quality:V});const R=i(),q=i(),n=d.videoRef||q,z=i(),r=d.playerRef||z,A=B||`player-${l.replace("/","-")}-${b.value}`;let c="cld-video-player cld-fluid";f&&(c=`${c} ${f}`);const u={error:j,loadeddata:O,loadedmetadata:x,pause:I,play:N,ended:U};function D(e){const o=u[e.type];typeof o=="function"&&o({player:r.value,video:n.value})}const H=()=>{if("cloudinary"in window){R.value=window.cloudinary;let e={};typeof t=="boolean"?e.showLogo=t:typeof t=="object"&&(e={...e,showLogo:!0,logoImageUrl:t.imageUrl,logoOnclickUrl:t.onClickUrl});const o={autoplayMode:C,cloud_name:S().public.cloudinary.cloudName,controls:M,fontFace:k||"",loop:E,muted:L,publicId:l,secure:!0,transformation:g,...e,hideContextMenu:F};typeof p=="object"&&(o.colors=p),r.value=R.value.videoPlayer(n.value,o),Object.keys(u).forEach(w=>{var _;typeof u[w]=="function"&&((_=r.value)==null||_.on(w,D))})}};return P({playerRef:r,videoRef:n}),T({script:[{id:`cloudinary-videoplayer-${Math.floor(Math.random()*100)}`,src:`https://unpkg.com/cloudinary-video-player@${h}/dist/cld-video-player.min.js`,onload:H,onerror:e=>console.error(`Failed to load Cloudinary Video Player: ${e.message}`)}],link:[{href:`https://unpkg.com/cloudinary-video-player@${h||"1.9.4"}/dist/cld-video-player.min.css`,rel:"stylesheet"}]}),(e,o)=>(J(),K("div",{style:Y({width:"100%",aspectRatio:`${a(v)} / ${a(y)}`})},[Q("video",{id:a(A),ref_key:"videoRef",ref:n,class:X(a(c)),width:a(v),height:a(y)},null,10,Z)],4))}});export{le as _};
