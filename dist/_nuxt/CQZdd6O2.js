import{_ as nt}from"./DypygR38.js";import{_ as at}from"./DqaMT-AZ.js";import{c as rt,al as ct,r as it,w as X,G as dt,H as ut,$ as a,u as e,a4 as t,D as y,X as x,a6 as B,a5 as u,F as $,ac as D,V as l,W as H,ad as V,aa as _t,ab as pt,a9 as mt,a7 as ht,a8 as ft}from"./Dg7Bj1Dn.js";import{_ as xt,O as bt,$ as gt,i as vt,u as yt}from"./rmVoKyAr.js";import{u as wt}from"./B8CyS364.js";import{_ as J}from"./DjMDzfwj.js";import{_ as G,a as K}from"./CaPaUSTr.js";import{_ as tt,a as kt}from"./CvJeMNre.js";import{_ as st}from"./DKIhSMag.js";import{_ as $t}from"./BFeF5Ghm.js";import{u as Dt}from"./j5w3CbAX.js";import{D as Ct}from"./C8qT9uG5.js";import{M as Rt}from"./B2TCpOrA.js";import{_ as jt,M as Mt}from"./B83x48NT.js";import{_ as Et}from"./BaZmk16K.js";import"./B2W3Qw7L.js";import"./_eVe-hpD.js";import"./ByTfTYi2.js";import"./vqpIx3q4.js";import"./NGD3Z_RD.js";import"./Bi9N8uqL.js";import"./OZUmrK_A.js";import"./CLFzEa0p.js";import"./DCj94CgU.js";import"./smLjY0U4.js";import"./DvjpAFVN.js";import"./C1sj_x83.js";import"./BDTnF8Yp.js";import"./CECZEjtU.js";import"./DP_f_eJI.js";import"./D_4OiXLP.js";import"./BrXM0lVu.js";import"./DkgJn5kV.js";import"./DmIqEkhR.js";const r=N=>(ht("data-v-b56f3235"),N=N(),ft(),N),St={class:"bg-white md:rounded-[6px] md:p-[30px] p-4 overflow-hidden overflow-y-auto md:max-h-[calc(100vh_-_160px)] md:min-h-[calc(100vh_-_160px)] max-h-[100vh] min-h-[100vh] pb-20"},qt={key:0},Lt={class:"flex items-center justify-between _c92 border-b border-[#EDEDED] pb-4 mb-5"},Bt=r(()=>t("img",{src:J,alt:""},null,-1)),Nt=r(()=>t("p",{class:"text-lg font-semibold sm:block hidden"},"Orqaga",-1)),Tt=[Bt,Nt],Yt={class:"flex flex-wrap gap-5 justify-between pb-6"},It={class:"flex items-center justify-between"},zt={class:"font-semibold text-xl"},Ut={class:"text-md _c66"},Vt={class:"flex md:gap-[60px] gap-10 mt-1"},At=r(()=>t("h1",{class:"_cab"},"Sinf",-1)),Ot={class:"flex items-center justify-between cursor-pointer font-medium w-[100px]"},Ft=r(()=>t("p",{class:"full_flex b_cff3 w-5 h-5 rounded-full"},[t("img",{src:G,alt:""})],-1)),Pt=r(()=>t("p",{class:"md:hidden block h-4 b_cf6 -mx-4"},null,-1)),Xt={class:"mt-5"},Ht={class:"font-medium text-xl"},Gt={class:"text-sm _c66"},Qt={class:"overflow-x-auto sm:mx-0 -mx-4"},Wt={class:"draggable-table mt-6 w-full text-start whitespace-nowrap"},Zt=r(()=>t("thead",null,[t("tr",null,[t("th",{class:"pr-6 text-start font-[400] pb-[6px] _cab sm:table-cell hidden"}," № "),t("th",{class:"sm:px-6 px-4 text-start font-[400] pb-[6px] _cab"}," Mavzu "),t("th",{class:"px-6 font-[400] pb-[6px] _cab sm:table-cell hidden"}," Dars davomiyligi "),t("th",{class:"px-6 font-[400] pb-[6px] _cab sm:table-cell hidden"}," Topshirganlar "),t("th",{class:"px-6 font-[400] pb-[6px] _cab sm:table-cell hidden"}," Yechim "),t("th",{class:"px-6 font-[400] pb-[6px] _cab min-w-[70px]"})])],-1)),Jt=["onClick"],Kt={class:"py-6 pr-6 sm:block hidden"},ts={class:"sm:py-6 py-3 sm:px-6 px-4"},ss={key:0,class:"sm:hidden flex gap-1 font-medium _c99 mt-1"},es={class:"full_flex py-6 px-6"},os={key:0,class:"sm:flex gap-1 hidden"},ls={class:"py-6 px-6 text-center sm:table-cell hidden"},ns=r(()=>t("td",{class:"py-6 px-6 sm:table-cell hidden"},[t("img",{class:"mx-auto",src:K,alt:""})],-1)),as={class:"sm:py-6 py-3 sm:px-6 px-4 min-w-[70px]"},rs={key:0,class:"mx-auto w-6 h-6",src:tt,alt:""},cs={key:1,class:"mx-auto w-6 h-6",src:st,alt:""},is={key:1,class:"pb-[100px]"},ds={class:"flex items-center justify-between _c92 md:border-b border-[#EDEDED] pb-4 mb-5"},us=r(()=>t("img",{src:J,alt:""},null,-1)),_s=r(()=>t("p",{class:"text-lg font-semibold sm:block hidden"},"Orqaga",-1)),ps=[us,_s],ms=r(()=>t("div",null,null,-1)),hs={class:"flex items-end justify-between gap-6 flex-wrap"},fs={class:"md:space-y-1 space-y-[10px]"},xs={class:"font-semibold md:text-[28px] text-xl"},bs=r(()=>t("p",{class:"md:text-[16px] text-sm _c66"}," Bugun nimani o‘rganmoqchisiz? ",-1)),gs={class:"flex flex-wrap md:gap-[60px] gap-10 md:text-[16px] text-sm"},vs=r(()=>t("h1",{class:"_cab"},"Sinf",-1)),ys={class:"flex items-center justify-between cursor-pointer font-medium w-[100px]"},ws=r(()=>t("p",{class:"full_flex b_cff3 w-5 h-5 rounded-full"},[t("img",{src:G,alt:""})],-1)),ks=r(()=>t("h1",{class:"_cab"},"Darslik",-1)),$s={class:"flex items-center justify-between cursor-pointer font-medium w-[100px]"},Ds=r(()=>t("p",{class:"full_flex b_cff3 w-5 h-5 rounded-full"},[t("img",{src:G,alt:""})],-1)),Cs=r(()=>t("p",{class:"md:hidden block h-4 b_cf6 -mx-4 mt-6"},null,-1)),Rs={class:"md:mt-[30px] mt-5"},js={class:"font-medium text-xl"},Ms={class:"text-sm _c66"},Es={class:"overflow-x-auto sm:mx-0 -mx-4"},Ss={class:"draggable-table mt-6 w-full text-start whitespace-nowrap"},qs=r(()=>t("thead",null,[t("tr",null,[t("th",{class:"pr-6 text-start font-[400] pb-[6px] _cab sm:table-cell hidden"}," № "),t("th",{class:"sm:px-6 px-4 text-start font-[400] pb-[6px] _cab"}," Mavzu "),t("th",{class:"px-6 font-[400] pb-[6px] _cab sm:table-cell hidden"}," Dars davomiyligi "),t("th",{class:"px-6 font-[400] pb-[6px] _cab sm:table-cell hidden"}," Topshirganlar "),t("th",{class:"px-6 font-[400] pb-[6px] _cab sm:table-cell hidden"}," Yechim "),t("th",{class:"px-6 font-[400] pb-[6px] _cab min-w-[70px]"})])],-1)),Ls=["onClick"],Bs={class:"py-6 pr-6 sm:block hidden"},Ns={class:"sm:py-6 py-3 sm:px-6 px-4"},Ts={key:0,class:"sm:hidden flex gap-1 font-medium _c99 mt-1"},Ys={class:"full_flex py-6 px-6"},Is={key:0,class:"sm:flex gap-1 hidden"},zs={class:"py-6 px-6 text-center sm:table-cell hidden"},Us=r(()=>t("td",{class:"py-6 px-6 sm:table-cell hidden"},[t("img",{class:"mx-auto",src:K,alt:""})],-1)),Vs={class:"sm:py-6 py-3 sm:px-6 px-4 min-w-[70px]"},As={key:0,class:"mx-auto w-6 h-6",src:tt,alt:""},Os={key:1,class:"mx-auto w-6 h-6",src:kt,alt:""},Fs={key:2,class:"mx-auto w-6 h-6",src:st,alt:""},Ps=r(()=>t("div",{class:"flex justify-between items-center w-full"},[t("h1",{class:"font-semibold text-2xl"},"Mavzu qo‘shish")],-1)),Xs={class:"space-y-2"},Hs=r(()=>t("label",{for:"name"},"Mavzu nomi",-1)),Gs={class:"space-y-2"},Qs=r(()=>t("label",null,"Sinf",-1)),Ws={class:"flex justify-between"},Zs={class:"flex items-center gap-2 w-full"},Js=r(()=>t("p",{class:"h-4 w-[1px] bg-[#999999]"},null,-1)),Ks=r(()=>t("img",{class:"ml-2",src:$t,alt:""},null,-1)),te={__name:"index",async setup(N){let Q,W;const{formatSecondsToHours:T}=Dt(),i=bt(),Z=gt(),et=vt(),d=yt(),q=rt(["1-sinf","2-sinf","3-sinf","4-sinf","5-sinf","6-sinf","7-sinf","8-sinf","9-sinf","10-sinf","11-sinf"]);[Q,W]=ct(()=>wt(()=>i.getLessons(),"$ATgngnq3iZ")),await Q,W();const b=it({subject:d.currentRoute.value.params.subject,class:d.currentRoute.value.query.class});console.log(d.currentRoute.value.params.subject),isNaN(d.currentRoute.value.query.class)&&(console.log(d.currentRoute.value.params.subject),d.push(`/lessons/${b.subject}?class=1`));function ot(h,c,g){(g||c==0)&&d.push(`${d.currentRoute.value.path}/${h.id}?class=${d.currentRoute.value.query.class}`)}return X(()=>b.class,()=>{console.log(d.currentRoute.value);let h=`/lessons/${b.subject}?class=${b.class+1}`;d.push(h)}),X(()=>b.subject,()=>{let h=`/lessons/${b.subject}?class=${d.currentRoute.value.query.class}`;d.push(h)}),X(()=>d.currentRoute.value,()=>{i.getLessons()}),dt(()=>{Z.getSubjects()}),ut(()=>{(function(){const h=document.getElementById("table"),c=h==null?void 0:h.querySelector("tbody");let g=null,_=null,E=0,L=0,Y=0,S=!1;function A(){I()}function I(){document.addEventListener("mousedown",o=>{if(o.button!=0)return!0;let n=j(o.target);n&&(g=n,p(n),g.classList.add("is-dragging"),E=C(o).y,S=!0)}),document.addEventListener("mousemove",o=>{if(!S)return;Y=C(o).y-E,s(L,Y)}),document.addEventListener("mouseup",o=>{S&&(g.classList.remove("is-dragging"),h.removeChild(_),_=null,S=!1)})}function z(o,n){let m=Array.from(c.children).indexOf(g),f=m>n?g:o,R=m>n?o:g;c.insertBefore(f,R)}function s(o,n){_.style.transform="translate3d("+o+"px, "+n+"px, 0)";let m=_.getBoundingClientRect(),f=m.y,R=f+m.height,M=w();for(var U=0;U<M.length;U++){let O=M[U],F=O.getBoundingClientRect(),P=F.y,lt=P+F.height;g!==O&&k(f,R,P,lt)&&Math.abs(f-P)<F.height/2&&z(O,U)}}function p(o){_=o.cloneNode(!0),_.classList.add("draggable-table__drag"),_.style.height=v(o,"height"),_.style.background=v(o,"backgroundColor");for(var n=0;n<o.children.length;n++){let R=o.children[n],M=_.children[n];M.style.width=v(R,"width"),M.style.height=v(R,"height"),M.style.padding=v(R,"padding"),M.style.margin=v(R,"margin")}h.appendChild(_);let m=o.getBoundingClientRect(),f=_.getBoundingClientRect();_.style.bottom=f.y-m.y-m.height+"px",_.style.left="-1px",document.dispatchEvent(new MouseEvent("mousemove",{view:window,cancelable:!0,bubbles:!0}))}function w(){return h.querySelectorAll("tbody tr")}function j(o){let n=o.tagName.toLowerCase();if(n=="tr")return o;if(n=="td")return o.closest("tr")}function C(o){return{x:o.clientX,y:o.clientY}}function v(o,n){let m=getComputedStyle(o),f=m[n];return f||null}function k(o,n,m,f){return Math.max(o,n)>=Math.min(m,f)&&Math.min(o,n)<=Math.max(m,f)}A()})()}),(h,c)=>{var I,z;const g=nt,_=jt,E=Mt,L=Ct,Y=Et,S=at,A=Rt;return l(),a("main",St,[e(et).user.data.current_role=="main_teacher"?(l(),a("div",qt,[t("nav",Lt,[t("div",{onClick:c[0]||(c[0]=s=>h.$router.push(`/lessons?class=${e(d).currentRoute.value.query.class}`)),class:"flex items-center gap-4 cursor-pointer max-w-fit"},Tt),t("div",null,[y(g,{onClick:c[1]||(c[1]=s=>e(i).store.createModal=!0),class:"bg_orange font-semibold white !px-6"},{default:x(()=>[B("Qo‘shish")]),_:1})])]),t("section",Yt,[t("div",It,[t("div",null,[t("h1",zt,[B(" Mavzular "),t("p",Ut,"("+u(e(b).subject)+")",1)])])]),t("ul",Vt,[t("li",null,[At,y(L,{trigger:["click"]},{overlay:x(()=>[y(E,null,{default:x(()=>[(l(!0),a($,null,D(e(q),(s,p)=>(l(),H(_,{onClick:w=>e(b).class=p,key:s},{default:x(()=>[t("p",null,u(s),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:x(()=>[t("div",Ot,[t("p",null,u(e(q)[e(d).currentRoute.value.query.class-1]),1),Ft])]),_:1})])])]),Pt,t("section",Xt,[t("h1",Ht,[B(" Darslar "),t("span",Gt,"("+u((I=e(i).store.lessons)==null?void 0:I.length)+"-darslar)",1)]),t("div",Qt,[t("table",Wt,[Zt,t("tbody",null,[(l(!0),a($,null,D(e(i).store.lessons,(s,p)=>{var w,j,C,v;return l(),a("tr",{onClick:k=>h.$router.push(`${e(d).currentRoute.value.path}/${s.id}?class=${e(d).currentRoute.value.query.class}`),class:"border-b border-[#EDEDED] cursor-pointer"},[t("td",Kt,u(p+1),1),t("td",ts,[t("p",null,u(s.title),1),s.video_lesson?(l(),a("p",ss,[(l(!0),a($,null,D(e(T)((j=(w=s.video_lesson[0])==null?void 0:w.video)==null?void 0:j.duration),k=>(l(),a("span",null,u(k),1))),256))])):V("",!0)]),t("td",es,[s.video_lesson?(l(),a("p",os,[(l(!0),a($,null,D(e(T)((v=(C=s.video_lesson[0])==null?void 0:C.video)==null?void 0:v.duration),k=>(l(),a("span",null,u(k),1))),256))])):V("",!0)]),t("td",ls,u(s.totalUsers),1),ns,t("td",as,[s.user_step?(l(),a("img",rs)):(l(),a("img",cs))])],8,Jt)}),256))])])])])])):(l(),a("div",is,[t("nav",ds,[t("div",{onClick:c[2]||(c[2]=s=>h.$router.push(`/lessons?class=${e(d).currentRoute.value.query.class}`)),class:"flex items-center gap-4 cursor-pointer max-w-fit"},ps),ms]),t("section",hs,[t("div",fs,[t("h1",xs,u(e(b).subject),1),bs]),t("ul",gs,[t("li",null,[vs,y(L,{trigger:["click"]},{overlay:x(()=>[y(E,null,{default:x(()=>[(l(!0),a($,null,D(e(q),(s,p)=>(l(),H(_,{onClick:w=>e(b).class=p,key:s},{default:x(()=>[t("p",null,u(s),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:x(()=>[t("div",ys,[t("p",null,u(e(q)[e(d).currentRoute.value.query.class-1]),1),ws])]),_:1})]),t("li",null,[ks,y(L,{trigger:["click"]},{overlay:x(()=>[y(E,null,{default:x(()=>[(l(!0),a($,null,D(e(Z).store.subjects,s=>(l(),H(_,{onClick:p=>e(b).subject=s.title,key:s.id},{default:x(()=>[t("p",null,u(s.title),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:x(()=>[t("div",$s,[t("p",null,u(e(b).subject),1),Ds])]),_:1})])])]),Cs,t("section",Rs,[t("h1",js,[B(" Darslar "),t("span",Ms,"("+u((z=e(i).store.lessons)==null?void 0:z.length)+"-darslar)",1)]),t("div",Es,[t("table",Ss,[qs,t("tbody",null,[(l(!0),a($,null,D(e(i).store.lessons,(s,p)=>{var w,j,C,v,k,o;return l(),a("tr",{onClick:n=>{var m,f;return ot(s,p,((m=e(i).store.user_step)==null?void 0:m.lesson_id)+1==((f=e(i).store.lessons[p])==null?void 0:f.id)||p==0||s.user_step)},class:"border-b border-[#EDEDED] cursor-pointer"},[t("td",Bs,u(p+1),1),t("td",Ns,[t("p",null,u(s.title),1),s.video_lesson?(l(),a("p",Ts,[(l(!0),a($,null,D(e(T)((j=(w=s.video_lesson[0])==null?void 0:w.video)==null?void 0:j.duration),n=>(l(),a("span",null,u(n),1))),256))])):V("",!0)]),t("td",Ys,[s.video_lesson?(l(),a("p",Is,[(l(!0),a($,null,D(e(T)((v=(C=s.video_lesson[0])==null?void 0:C.video)==null?void 0:v.duration),n=>(l(),a("span",null,u(n),1))),256))])):V("",!0)]),t("td",zs,u(s.totalUsers),1),Us,t("td",Vs,[s.user_step?(l(),a("img",As)):((k=e(i).store.user_step)==null?void 0:k.lesson_id)+1==((o=e(i).store.lessons[p])==null?void 0:o.id)||p==0?(l(),a("img",Os)):(l(),a("img",Fs))])],8,Ls)}),256))])])])])])),y(A,{class:"max-w-[440px]",open:e(i).store.createModal,"onUpdate:open":c[7]||(c[7]=s=>e(i).store.createModal=s),centered:""},{default:x(()=>[Ps,t("form",{onSubmit:c[6]||(c[6]=mt((...s)=>e(i).createLesson&&e(i).createLesson(...s),["prevent"])),class:"space-y-5 _c45 mt-[30px]"},[t("div",Xs,[Hs,_t(t("input",{"onUpdate:modelValue":c[3]||(c[3]=s=>e(i).create.title=s),class:"rounded-[12px]",id:"name",type:"text"},null,512),[[pt,e(i).create.title]])]),t("div",Gs,[Qs,t("div",Ws,[t("div",Zs,[y(Y,{value:e(i).create.class,"onUpdate:value":c[4]||(c[4]=s=>e(i).create.class=s),class:"min-w-[145px] w-full sr_12",options:e(q).map((s,p)=>({value:p+1,label:s})),required:""},{suffixIcon:x(()=>[Js,Ks]),_:1},8,["value","options"])])])]),y(g,{onClick:c[5]||(c[5]=s=>e(i).store.createModal=!1),type:"submit",class:"!h-12 w-full bg_orange !mt-[54px] font-semibold white"},{default:x(()=>[B(" Yaratish "),y(S)]),_:1})],32)]),_:1},8,["open"])])}}},Ne=xt(te,[["__scopeId","data-v-b56f3235"]]);export{Ne as default};
