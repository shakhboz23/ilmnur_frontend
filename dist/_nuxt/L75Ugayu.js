var b=/\/v\d+\//,y=/\.(ai|avif|gif|png|webp|bmp|bw|djvu|dng|ps|ept|eps|eps3|fbx|flif|gif|glb|gltf|heif|heic|ico|indd|jpg|jpe|jpeg|jp2|wdp|jxr|hdp|obj|pdf|ply|png|psd|arw|cr2|svg|tga|tif|tiff|u3ma|usdz|webp|3g2|3gp|avi|flv|m3u8|ts|m2ts|mts|mov|mkv|mp4|mpeg|mpd|mxf|ogv|webm|wmv)$/i,w=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|images|video|videos|raw|files)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)?\/?(?<signature>s--([a-zA-Z0-9\_\-]{8}|[a-zA-Z0-9\_\-]{32})--)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?\/?)*\/)*(?<version>v\d+|\w{1,2})\/(?<publicId>[^\s]+)$/,h=["images","videos","files"];function I(e){var t,f,u,s;if(typeof e!="string")throw new Error(`Failed to parse URL: Invalid src of type ${typeof e}`);if(!b.test(e))throw new Error("Invalid src: Does not include version (Ex: /v1234/)");const[p,i]=e.split("?"),o=E(p);let c=p;o&&(c=p.replace(new RegExp(`${o}$`),""));const n=c.match(w),d=(f=(t=n==null?void 0:n.groups)==null?void 0:t.transformations)==null?void 0:f.split("/").filter(a=>!!a),r={...n==null?void 0:n.groups,format:o,seoSuffix:void 0,transformations:d||[],queryParams:{},version:(u=n==null?void 0:n.groups)!=null&&u.version?parseInt(n.groups.version.replace("v","")):void 0};if(i&&(r.queryParams=i.split("&").reduce((a,v)=>{const[g,m]=v.split("=");return a[g]=m,a},{})),r.assetType&&h.includes(r.assetType)){const a=((s=r.publicId)==null?void 0:s.split("/"))||[];r.seoSuffix=a.pop(),r.publicId=a.join("/")}return r.publicId&&(r.publicId=decodeURIComponent(r.publicId)),r}function E(e){const t=e.match(y);if(t!==null)return t[0]}function _(e){return typeof e!="string"?!1:!!e.startsWith("#")}function x(e){return`rgb:${e.replace("#","")}`}function j(e){if(typeof btoa=="function")return btoa(e);if(typeof Buffer<"u")return Buffer.from(e).toString("base64")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function S(e=[],t,f="asc"){function u(l,p){let i=l[t],o=p[t];return typeof i=="string"&&(i=i.toLowerCase()),typeof o=="string"&&(o=o.toLowerCase()),i<o?-1:i>o?1:0}let s=[...e];return typeof t!="string"?s:(s=s.sort(u),f==="desc"?s.reverse():s)}export{x as c,j as e,E as g,R as o,I as p,S as s,_ as t};
