import{d as N,j as T,$ as u,a4 as s,D as V,a6 as h,a5 as S,a9 as m,aa as w,aj as x,F as D,ac as M,ab as C,a3 as A,V as g,a7 as z,a8 as H,ak as B}from"./Dg7Bj1Dn.js";import{_ as L}from"./rmVoKyAr.js";var R=N({name:"VueDrawingCanvas",props:{strokeType:{type:String,validator:e=>["dash","line","square","circle","triangle","half_triangle"].indexOf(e)!==-1,default:()=>"dash"},fillShape:{type:Boolean,default:()=>!1},width:{type:[String,Number],default:()=>600},height:{type:[String,Number],default:()=>400},image:{type:String,default:()=>""},eraser:{type:Boolean,default:()=>!1},color:{type:String,default:()=>"#000000"},lineWidth:{type:Number,default:()=>5},lineCap:{type:String,validator:e=>["round","square","butt"].indexOf(e)!==-1,default:()=>"round"},lineJoin:{type:String,validator:e=>["miter","round","bevel"].indexOf(e)!==-1,default:()=>"miter"},lock:{type:Boolean,default:()=>!1},styles:{type:[Array,String,Object]},classes:{type:[Array,String,Object]},backgroundColor:{type:String,default:()=>"#FFFFFF"},backgroundImage:{type:String,default:()=>null},watermark:{type:Object,default:()=>null},saveAs:{type:String,validator:e=>["jpeg","png"].indexOf(e)!==-1,default:()=>"png"},canvasId:{type:String,default:()=>"VueDrawingCanvas"},initialImage:{type:Array,default:()=>[]},additionalImages:{type:Array,default:()=>[]},outputWidth:{type:Number},outputHeight:{type:Number}},data(){return{loadedImage:null,drawing:!1,context:null,images:[],strokes:{type:"",from:{x:0,y:0},coordinates:[],color:"",width:"",fill:!1,lineCap:"",lineJoin:""},guides:[],trash:[]}},mounted(){this.setContext(),this.$nextTick(()=>{this.drawInitialImage(),this.drawAdditionalImages()})},watch:{backgroundImage:function(){this.loadedImage=null}},methods:{async setContext(){let e=document.querySelector("#"+this.canvasId);this.context=this.context?this.context:e.getContext("2d"),await this.setBackground()},drawInitialImage(){this.initialImage&&this.initialImage.length>0&&(this.images=[].concat(this.images,this.initialImage),this.redraw(!0))},drawAdditionalImages(){if(this.additionalImages&&this.additionalImages.length>0){let e=document.querySelector("#"+this.canvasId);this.additionalImages.forEach(t=>{this.drawWatermark(e,this.context,t)})}},clear(){this.context.clearRect(0,0,Number(this.width),Number(this.height))},async setBackground(){this.clear(),this.context.fillStyle=this.backgroundColor,this.context.fillRect(0,0,Number(this.width),Number(this.height)),await this.$nextTick(async()=>{await this.drawBackgroundImage()}),this.save()},async drawBackgroundImage(){if(this.loadedImage)this.context.drawImage(this.loadedImage,0,0,Number(this.width),Number(this.height));else return new Promise(e=>{if(!this.backgroundImage){e();return}const t=new Image;t.src=this.backgroundImage,t.onload=()=>{this.context.drawImage(t,0,0,Number(this.width),Number(this.height)),this.loadedImage=t,e()}})},getCoordinates(e){let t,i;if(e.touches&&e.touches.length>0){let o=document.querySelector("#"+this.canvasId).getBoundingClientRect();t=e.touches[0].clientX-o.left,i=e.touches[0].clientY-o.top}else t=e.offsetX,i=e.offsetY;return{x:t,y:i}},startDraw(e){if(!this.lock){this.drawing=!0;let t=this.getCoordinates(e);this.strokes={type:this.eraser?"eraser":this.strokeType,from:t,coordinates:[],color:this.eraser?this.backgroundColor:this.color,width:this.lineWidth,fill:this.eraser||this.strokeType==="dash"||this.strokeType==="line"?!1:this.fillShape,lineCap:this.lineCap,lineJoin:this.lineJoin},this.guides=[]}},draw(e){if(this.drawing){this.context||this.setContext();let t=this.getCoordinates(e);if(this.eraser||this.strokeType==="dash")this.strokes.coordinates.push(t),this.drawShape(this.context,this.strokes,!1);else{switch(this.strokeType){case"line":this.guides=[{x:t.x,y:t.y}];break;case"square":this.guides=[{x:t.x,y:this.strokes.from.y},{x:t.x,y:t.y},{x:this.strokes.from.x,y:t.y},{x:this.strokes.from.x,y:this.strokes.from.y}];break;case"triangle":let i=Math.floor((t.x-this.strokes.from.x)/2)<0?Math.floor((t.x-this.strokes.from.x)/2)*-1:Math.floor((t.x-this.strokes.from.x)/2),n=this.strokes.from.x<t.x?this.strokes.from.x+i:this.strokes.from.x-i;this.guides=[{x:t.x,y:this.strokes.from.y},{x:n,y:t.y},{x:this.strokes.from.x,y:this.strokes.from.y}];break;case"half_triangle":this.guides=[{x:t.x,y:this.strokes.from.y},{x:this.strokes.from.x,y:t.y},{x:this.strokes.from.x,y:this.strokes.from.y}];break;case"circle":let o=this.strokes.from.x-t.x<0?(this.strokes.from.x-t.x)*-1:this.strokes.from.x-t.x;this.guides=[{x:this.strokes.from.x>t.x?this.strokes.from.x-o:this.strokes.from.x+o,y:this.strokes.from.y},{x:o,y:o}];break}this.drawGuide(!0)}}},drawGuide(e){this.redraw(!0),this.$nextTick(()=>{this.context.strokeStyle=this.color,this.context.lineWidth=1,this.context.lineJoin=this.lineJoin,this.context.lineCap=this.lineCap,this.context.beginPath(),this.context.setLineDash([15,15]),this.strokes.type==="circle"?this.context.ellipse(this.guides[0].x,this.guides[0].y,this.guides[1].x,this.guides[1].y,0,0,Math.PI*2):(this.context.moveTo(this.strokes.from.x,this.strokes.from.y),this.guides.forEach(t=>{this.context.lineTo(t.x,t.y)}),e&&this.context.closePath()),this.context.stroke()})},drawShape(e,t,i){e.strokeStyle=t.color,e.fillStyle=t.color,e.lineWidth=t.width,e.lineJoin=t.lineJoin===void 0?this.lineJoin:t.lineJoin,e.lineCap=t.lineCap===void 0?this.lineCap:t.lineCap,e.beginPath(),e.setLineDash([]),t.type==="circle"?e.ellipse(t.coordinates[0].x,t.coordinates[0].y,t.coordinates[1].x,t.coordinates[1].y,0,0,Math.PI*2):(e.moveTo(t.from.x,t.from.y),t.coordinates.forEach(n=>{e.lineTo(n.x,n.y)}),i&&e.closePath()),t.fill?e.fill():e.stroke()},stopDraw(){this.drawing&&(this.strokes.coordinates=this.guides.length>0?this.guides:this.strokes.coordinates,this.images.push(this.strokes),this.redraw(!0),this.drawing=!1,this.trash=[])},reset(){this.lock||(this.images=[],this.strokes={type:"",coordinates:[],color:"",width:"",fill:!1,lineCap:"",lineJoin:""},this.guides=[],this.trash=[],this.redraw(!0))},undo(){if(!this.lock){let e=this.images.pop();e&&(this.trash.push(e),this.redraw(!0))}},redo(){if(!this.lock){let e=this.trash.pop();e&&(this.images.push(e),this.redraw(!0))}},async redraw(e){e=typeof e<"u"?e:!0,await this.setBackground().then(()=>{this.drawAdditionalImages()}).then(()=>{let t=document.createElement("canvas"),i=t.getContext("2d");t.width=Number(this.width),t.height=Number(this.height),i&&(this.images.forEach(n=>{i&&(i.globalCompositeOperation=n.type==="eraser"?"destination-out":"source-over",(n.type!=="circle"||n.type==="circle"&&n.coordinates.length>0)&&this.drawShape(i,n,!(n.type==="eraser"||n.type==="dash"||n.type==="line")))}),this.context.drawImage(t,0,0,Number(this.width),Number(this.height)))}).then(()=>{e&&this.save()})},wrapText(e,t,i,n,o,r){const d=/(\r\n|\n\r|\n|\r)+/g,a=/\s+/g;var y=t.split(d).filter(b=>b.length>0);for(let b=0;b<y.length;b++){for(var p=y[b].split(a).filter(_=>_.length>0),c="",f=0;f<p.length;f++){var v=c+p[f]+" ",k=e.measureText(v),I=k.width;I>o&&f>0?(this.watermark&&this.watermark.fontStyle&&this.watermark.fontStyle.drawType&&this.watermark.fontStyle.drawType==="stroke"?e.strokeText(c,i,n):e.fillText(c,i,n),c=p[f]+" ",n+=r):c=v}this.watermark&&this.watermark.fontStyle&&this.watermark.fontStyle.drawType&&this.watermark.fontStyle.drawType==="stroke"?e.strokeText(c,i,n):e.fillText(c,i,n),n+=p.length>0?r:0}},save(){let e=document.querySelector("#"+this.canvasId);if(this.watermark){let t=document.createElement("canvas"),i=t.getContext("2d");i&&(t.width=Number(this.width),t.height=Number(this.height),i.drawImage(e,0,0,Number(this.width),Number(this.height)),this.drawWatermark(t,i,this.watermark))}else{let t=document.createElement("canvas"),i=t.getContext("2d"),n=this.outputWidth===void 0?this.width:this.outputWidth,o=this.outputHeight===void 0?this.height:this.outputHeight;if(t.width=Number(n),t.height=Number(o),i)return i.drawImage(e,0,0,Number(n),Number(o)),this.$emit("update:image",t.toDataURL("image/"+this.saveAs,1)),t.toDataURL("image/"+this.saveAs,1)}},drawWatermark(e,t,i){if(i.type==="Image"){let n=i.imageStyle?i.imageStyle.width?i.imageStyle.width:Number(this.width):Number(this.width),o=i.imageStyle?i.imageStyle.height?i.imageStyle.height:Number(this.height):Number(this.height);const r=new Image;r.src=i.source,r.onload=()=>{i&&t&&t.drawImage(r,i.x,i.y,Number(n),Number(o));let d=document.createElement("canvas"),a=d.getContext("2d"),y=this.outputWidth===void 0?this.width:this.outputWidth,p=this.outputHeight===void 0?this.height:this.outputHeight;if(d.width=Number(y),d.height=Number(p),a)return a.drawImage(e,0,0,Number(y),Number(p)),this.$emit("update:image",d.toDataURL("image/"+this.saveAs,1)),d.toDataURL("image/"+this.saveAs,1)}}else if(i.type==="Text"){let n=i.fontStyle&&i.fontStyle.font?i.fontStyle.font:"20px serif",o=i.fontStyle&&i.fontStyle.textAlign?i.fontStyle.textAlign:"start",r=i.fontStyle&&i.fontStyle.textBaseline?i.fontStyle.textBaseline:"alphabetic",d=i.fontStyle&&i.fontStyle.color?i.fontStyle.color:"#000000";if(t.font=n,t.textAlign=o,t.textBaseline=r,i.fontStyle&&i.fontStyle.rotate){let f,v;i.fontStyle&&i.fontStyle.width?f=i.x+Math.floor(i.fontStyle.width/2):f=i.x,i.fontStyle&&i.fontStyle.lineHeight?v=i.y+Math.floor(i.fontStyle.lineHeight/2):v=i.y,t.translate(f,v),t.rotate(i.fontStyle.rotate*Math.PI/180),t.translate(f*-1,v*-1)}i.fontStyle&&i.fontStyle.drawType&&i.fontStyle.drawType==="stroke"?(t.strokeStyle=i.fontStyle.color,i.fontStyle&&i.fontStyle.width?this.wrapText(t,i.source,i.x,i.y,i.fontStyle.width,i.fontStyle.lineHeight):t.strokeText(i.source,i.x,i.y)):(t.fillStyle=d,i.fontStyle&&i.fontStyle.width?this.wrapText(t,i.source,i.x,i.y,i.fontStyle.width,i.fontStyle.lineHeight):t.fillText(i.source,i.x,i.y));let a=document.createElement("canvas"),y=a.getContext("2d"),p=this.outputWidth===void 0?this.width:this.outputWidth,c=this.outputHeight===void 0?this.height:this.outputHeight;if(a.width=Number(p),a.height=Number(c),y)return y.drawImage(e,0,0,Number(p),Number(c)),this.$emit("update:image",a.toDataURL("image/"+this.saveAs,1)),a.toDataURL("image/"+this.saveAs,1)}},isEmpty(){return!(this.images.length>0)},getAllStrokes(){return this.images}},render(){return T("canvas",{id:this.canvasId,height:Number(this.height),width:Number(this.width),style:{touchAction:"none",...this.styles},class:this.classes,onMousedown:e=>this.startDraw(e),onMousemove:e=>this.draw(e),onMouseup:()=>this.stopDraw(),onMouseleave:()=>this.stopDraw(),onTouchstart:e=>this.startDraw(e),onTouchmove:e=>this.draw(e),onTouchend:()=>this.stopDraw(),onTouchleave:()=>this.stopDraw(),onTouchcancel:()=>this.stopDraw(),onPointerdown:e=>this.startDraw(e),onPointermove:e=>this.draw(e),onPointerup:()=>this.stopDraw(),onPointerleave:()=>this.stopDraw(),onPointercancel:()=>this.stopDraw()})}});const W={components:{"vue-drawing-canvas":R},setup:()=>{},data(){return{initialImage:[{type:"dash",from:{x:262,y:154},coordinates:[],color:"#000000",width:5,fill:!1}],x:0,y:0,image:"",eraser:!1,disabled:!1,fillShape:!1,line:5,color:"#000000",strokeType:"dash",lineCap:"square",lineJoin:"miter",backgroundColor:"#ffffff00",backgroundImage:null,watermark:null,additionalImages:[]}},mounted(){"vue-drawing-canvas"in window.localStorage&&(this.initialImage=JSON.parse(window.localStorage.getItem("vue-drawing-canvas")))},methods:{async setImage(e){let t=window.URL;this.backgroundImage=t.createObjectURL(e.target.files[0]),await this.$refs.VueCanvasDrawing.redraw()},async setWatermarkImage(e){let t=window.URL;this.watermark={type:"Image",source:t.createObjectURL(e.target.files[0]),x:0,y:0,imageStyle:{width:600,height:400}},await this.$refs.VueCanvasDrawing.redraw()},getCoordinate(e){let t=this.$refs.VueCanvasDrawing.getCoordinates(e);this.x=t.x,this.y=t.y},getStrokes(){window.localStorage.setItem("vue-drawing-canvas",JSON.stringify(this.$refs.VueCanvasDrawing.getAllStrokes())),alert("Strokes saved, reload your browser to see the canvas with previously saved image")},removeSavedStrokes(){window.localStorage.removeItem("vue-drawing-canvas"),alert("Strokes cleared from local storage")}}},l=e=>(z("data-v-d52a1525"),e=e(),H(),e),U={class:"flex-row"},J={class:"source"},q=l(()=>s("p",null,"Canvas:",-1)),O={class:"button-container"},P={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-lock",viewBox:"0 0 16 16"},E={key:0,d:"M11 1a2 2 0 0 0-2 2v4a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h5V3a3 3 0 0 1 6 0v4a.5.5 0 0 1-1 0V3a2 2 0 0 0-2-2zM3 8a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1H3z"},j={key:1,d:"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z"},F={key:0},X={key:1},Y=l(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-counterclockwise",viewBox:"0 0 16 16"},[s("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"}),s("path",{d:"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"})],-1)),G=l(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-clockwise",viewBox:"0 0 16 16"},[s("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"}),s("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"})],-1)),K=l(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[s("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"}),s("path",{"fill-rule":"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"})],-1)),Q=l(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-file-earmark",viewBox:"0 0 16 16"},[s("path",{d:"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"})],-1)),Z={class:"button-container"},$={key:0},tt=l(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eraser",viewBox:"0 0 16 16"},[s("path",{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414l-3.879-3.879zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"})],-1)),et={key:1},it=l(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil",viewBox:"0 0 16 16"},[s("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})],-1)),st=["value"],ot=B('<option value="dash" data-v-d52a1525>Dash</option><option value="line" data-v-d52a1525>Straight Line</option><option value="circle" data-v-d52a1525>Circle</option><option value="square" data-v-d52a1525>Square</option><option value="triangle" data-v-d52a1525>Triangle</option><option value="half_triangle" data-v-d52a1525>Half Triangle</option>',6),at=[ot],nt=l(()=>s("option",{value:"round"},"lineCap Round",-1)),lt=l(()=>s("option",{value:"square"},"lineCap Square",-1)),rt=l(()=>s("option",{value:"butt"},"lineCap butt",-1)),ht=[nt,lt,rt],dt=l(()=>s("option",{value:"round"},"lineJoin Round",-1)),ut=l(()=>s("option",{value:"miter"},"lineJoin miter",-1)),gt=l(()=>s("option",{value:"bevel"},"lineJoin bevel",-1)),pt=[dt,ut,gt],ct={key:0},ft=l(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-square-fill",viewBox:"0 0 16 16"},[s("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z"})],-1)),mt={key:1},yt=l(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-square",viewBox:"0 0 16 16"},[s("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"})],-1)),vt={class:"button-container"},wt=l(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-image-alt",viewBox:"0 0 16 16"},[s("path",{d:"M7 2.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0zm4.225 4.053a.5.5 0 0 0-.577.093l-3.71 4.71-2.66-2.772a.5.5 0 0 0-.63.062L.002 13v2a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-4.5l-4.777-3.947z"})],-1)),bt=l(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eraser",viewBox:"0 0 16 16"},[s("path",{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414l-3.879-3.879zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"})],-1)),xt={class:"button-container"},St={style:{"margin-right":"30px"}},Ct=l(()=>s("p",{style:{"margin-bottom":"0"}},"Background Color:",-1)),kt=l(()=>s("p",{style:{"margin-bottom":"0"}},"Upload Background Image:",-1)),It=l(()=>s("p",{style:{"margin-bottom":"0"}},"Upload Watermark Image:",-1)),_t={class:"output"},Nt=l(()=>s("p",null,"Output:",-1)),Tt=["src"];function Vt(e,t,i,n,o,r){const d=A("vue-drawing-canvas");return g(),u("div",U,[s("div",J,[q,V(d,{ref:"VueCanvasDrawing",image:o.image,width:600,height:400,"stroke-type":o.strokeType,"line-cap":o.lineCap,"line-join":o.lineJoin,"fill-shape":o.fillShape,eraser:o.eraser,lineWidth:o.line,color:o.color,"background-color":o.backgroundColor,"background-image":o.backgroundImage,watermark:o.watermark,"initial-image":o.initialImage,saveAs:"png",styles:{border:"solid 1px #000"},lock:o.disabled,onMousemove:t[0]||(t[0]=a=>r.getCoordinate(a)),"additional-images":o.additionalImages},null,8,["image","stroke-type","line-cap","line-join","fill-shape","eraser","lineWidth","color","background-color","background-image","watermark","initial-image","lock","additional-images"]),s("p",null,[h(" X-axis: "),s("strong",null,S(o.x),1),h(", Y-axis: "),s("strong",null,S(o.y),1)]),s("div",O,[s("button",{type:"button",onClick:t[1]||(t[1]=m(a=>o.disabled=!o.disabled,["prevent"]))},[(g(),u("svg",P,[o.disabled?(g(),u("path",j)):(g(),u("path",E))])),o.disabled?(g(),u("span",X,"Lock")):(g(),u("span",F,"Unlock"))]),s("button",{type:"button",onClick:t[2]||(t[2]=m(a=>e.$refs.VueCanvasDrawing.undo(),["prevent"]))},[Y,h(" Undo ")]),s("button",{type:"button",onClick:t[3]||(t[3]=m(a=>e.$refs.VueCanvasDrawing.redo(),["prevent"]))},[G,h(" Redo ")]),s("button",{type:"button",onClick:t[4]||(t[4]=m(a=>e.$refs.VueCanvasDrawing.redraw(),["prevent"]))},[K,h(" Refresh ")]),s("button",{type:"button",onClick:t[5]||(t[5]=m(a=>e.$refs.VueCanvasDrawing.reset(),["prevent"]))},[Q,h(" Reset ")])]),s("div",Z,[s("button",{type:"button",onClick:t[6]||(t[6]=m(a=>o.eraser=!o.eraser,["prevent"]))},[o.eraser?(g(),u("span",$,[tt,h(" Eraser ")])):(g(),u("span",et,[it,h(" Draw ")]))]),w(s("select",{"onUpdate:modelValue":t[7]||(t[7]=a=>o.line=a)},[(g(),u(D,null,M(25,a=>s("option",{key:"option-"+a,value:a},S(a),9,st)),64))],512),[[x,o.line]]),w(s("input",{type:"color","onUpdate:modelValue":t[8]||(t[8]=a=>o.color=a)},null,512),[[C,o.color]]),w(s("select",{"onUpdate:modelValue":t[9]||(t[9]=a=>o.strokeType=a)},at,512),[[x,o.strokeType]]),w(s("select",{"onUpdate:modelValue":t[10]||(t[10]=a=>o.lineCap=a)},ht,512),[[x,o.lineCap]]),w(s("select",{"onUpdate:modelValue":t[11]||(t[11]=a=>o.lineJoin=a)},pt,512),[[x,o.lineJoin]]),s("button",{type:"button",onClick:t[12]||(t[12]=m(a=>o.fillShape=!o.fillShape,["prevent"]))},[o.fillShape?(g(),u("span",ct,[ft,h(" Fill ")])):(g(),u("span",mt,[yt,h(" Stroke ")]))])]),s("div",vt,[s("button",{type:"button",onClick:t[13]||(t[13]=m(a=>r.getStrokes(),["prevent"]))},[wt,h(" Save All Strokes ")]),s("button",{type:"button",onClick:t[14]||(t[14]=m(a=>r.removeSavedStrokes(),["prevent"]))},[bt,h(" Remove Saved Strokes ")])]),s("div",xt,[s("div",St,[Ct,w(s("input",{type:"color","onUpdate:modelValue":t[15]||(t[15]=a=>o.backgroundColor=a)},null,512),[[C,o.backgroundColor]])]),s("div",null,[kt,s("input",{type:"file",onChange:t[16]||(t[16]=a=>r.setImage(a))},null,32)]),s("div",null,[It,s("input",{type:"file",onChange:t[17]||(t[17]=a=>r.setWatermarkImage(a))},null,32)])])]),s("div",_t,[Nt,s("img",{src:o.image,style:{border:"solid 1px #000000"}},null,8,Tt)])])}const At=L(W,[["render",Vt],["__scopeId","data-v-d52a1525"]]);export{At as default};
